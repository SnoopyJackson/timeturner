<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Time-Turner ⏳</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="bg-gray-50 text-gray-900 font-sans">
  <header class="relative text-center py-16 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-400 shadow-lg">
    <div class="absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80')] bg-cover bg-center"></div>
    <div class="relative z-10">
      <!-- controls moved below the title (see next block) -->
      <h1 id="main-title" class="text-5xl font-extrabold mb-4 text-white drop-shadow-lg flex items-center justify-center gap-4">
        <span>⏳</span> Time-Turner
      </h1>
      <p id="main-desc" class="text-white text-xl font-medium mb-6 drop-shadow">Looking at timeline of country, fiction, mythology & topics</p>
      <!-- compact controls under title -->
      <div class="flex justify-center items-center gap-4 mb-4">
        <div class="flex items-center gap-2">
          <button id="lang-en" class="px-3 py-2 mx-1 rounded-lg bg-white bg-opacity-80 text-blue-700 font-bold shadow hover:bg-blue-100" onclick="setLanguage('en')">🇬🇧</button>
          <button id="lang-fr" class="px-3 py-2 mx-1 rounded-lg bg-white bg-opacity-80 text-pink-700 font-bold shadow hover:bg-pink-100" onclick="setLanguage('fr')">🇫🇷</button>
        </div>
        <a id="buy-coffee-btn" href="https://buymeacoffee.com/jonathangax" target="_blank" rel="noopener" class="px-3 py-1 rounded-lg bg-yellow-400 text-yellow-900 font-bold hover:bg-yellow-500 transition-shadow text-sm" title="Support the project">☕</a>
        <button id="theme-toggle" class="flex items-center gap-2 px-4 py-2 rounded-lg bg-white bg-opacity-15 backdrop-blur-md text-white font-bold shadow hover:bg-opacity-25 transition-all border border-white border-opacity-20">
          <svg class="sun-icon w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
          </svg>
          <span class="light-text">Light Mode</span>
          <svg class="moon-icon w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
          <span class="dark-text">Dark Mode</span>
        </button>
      </div>

      <div class="flex justify-center gap-4 mb-4">
        <a id="play-game-btn" href="game2.html" class="px-6 py-3 bg-green-500 text-white rounded-lg shadow-lg hover:bg-green-600 transition-all font-bold flex items-center gap-2">📅Timeline</a>
        <a href="quizz.html" class="px-6 py-3 bg-purple-500 text-white rounded-lg shadow-lg hover:bg-purple-600 transition-all font-bold flex items-center gap-2">🎓 Quiz</a>
        <a href="tutor.html" class="px-6 py-3 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-all font-bold flex items-center gap-2">🧐 Finder</a>
        <a href="parallel_timeline.html" class="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg shadow-lg hover:from-indigo-600 hover:to-purple-700 transition-all font-bold flex items-center gap-2">📊 Parallel Timeline</a>
        <a href="history_teacher_ai.html" class="px-6 py-3 bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-lg shadow-lg hover:from-green-600 hover:to-teal-700 transition-all font-bold flex items-center gap-2">🤖 AI History Teacher</a>
        <!-- <a id="maps-btn" href="maps.html" class="px-6 py-3 bg-yellow-500 text-white rounded-lg shadow-lg hover:bg-yellow-600 transition-all font-bold flex items-center gap-2">🗺️ Maps</a> -->
      </div>
    </div>
  </header>
  <main class="max-w-2xl mx-auto py-12 text-center">
    <!-- On This Day in History Section -->
    <div id="on-this-day" class="mb-12 bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-2xl shadow-lg border-2 border-purple-200">
      <h2 class="text-2xl font-bold mb-4 text-purple-700 flex items-center justify-center gap-2">
        📅 <span id="on-this-day-title">On This Day in History...</span>
      </h2>
      <!-- Flippable card container -->
      <div class="flip-container relative">
        <div class="flip-controls flex justify-end mb-2">
          <button id="flip-btn" class="px-3 py-1 rounded bg-indigo-600 text-white text-sm">Today</button>
        </div>
        <div class="flip-card">
          <div class="flip-card-inner">
            <div id="on-this-day-content" class="flip-card-front text-left bg-white p-5 rounded-xl shadow-md">
        <div class="flex items-center justify-center py-8">
          <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-700"></div>
        </div>
            </div>
            <div id="today-news-content" class="flip-card-back text-left bg-white p-5 rounded-xl shadow-md">
              <div class="text-gray-600" id="news-loading">Select "Today" to load news...</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <h2 id="choose-country" class="text-3xl font-bold mb-8 text-gray-800 flex items-center justify-center gap-2">
      Choose a topic to explore
    </h2>
    <div class="flex flex-wrap justify-center gap-8 mb-12">
        <button class="country-btn bg-gradient-to-r from-indigo-700 to-purple-900 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-indigo-800 hover:to-purple-800 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('universe')">🌌 Universe</button>
              <button class="country-btn bg-gradient-to-r from-yellow-600 to-orange-300 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-yellow-700 hover:to-orange-400 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('egypt_myth')">🦅 Egypt Mythology</button>
              <button class="country-btn bg-gradient-to-r from-blue-400 to-indigo-700 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-blue-500 hover:to-indigo-800 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('greek_myth')">🇬🇷 Greek Myth</button>
              <button class="country-btn bg-gradient-to-r from-orange-500 to-yellow-600 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-orange-600 hover:to-yellow-700 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('hindu_myth')">🕉️ Hindu Myth</button>
      <button class="country-btn bg-gradient-to-r from-amber-700 to-yellow-500 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-amber-800 hover:to-yellow-600 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('arthur')">⚔️ King Arthur</button>
                    <button class="country-btn bg-gradient-to-r from-red-500 to-orange-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-red-600 hover:to-orange-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('roman')">🏛️ Rome</button>
      <button class="country-btn bg-gradient-to-r from-blue-600 to-blue-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-blue-700 hover:to-blue-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('france')">🇫🇷 France</button>
            <button class="country-btn bg-gradient-to-r from-yellow-400 to-red-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-yellow-500 hover:to-red-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('china')">🇨🇳 China</button>
      <button class="country-btn bg-gradient-to-r from-blue-800 to-red-600 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-blue-900 hover:to-red-700 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('usa')">🇺🇸 USA</button>
            <button class="country-btn bg-gradient-to-r from-purple-600 to-indigo-500 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-purple-700 hover:to-indigo-600 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('inventions')">💡 Inventions</button>
      <button class="country-btn bg-gradient-to-r from-red-700 to-gray-900 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-red-800 hover:to-gray-900 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('wars')">⚔️ Wars</button>
          <button class="country-btn bg-gradient-to-r from-purple-700 to-pink-500 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-purple-800 hover:to-pink-600 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('revolutions')">✊ Revolutions</button>
      <button class="country-btn bg-gradient-to-r from-yellow-600 to-red-600 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-yellow-700 hover:to-red-700 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('pandemics')">🦠 Pandemics</button>
      <button class="country-btn bg-gradient-to-r from-green-700 to-blue-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-green-800 hover:to-blue-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('bjj')">🥋 Brazilian Jiu Jitsu</button>
      <button class="country-btn bg-gradient-to-r from-gray-900 to-yellow-700 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-gray-900 hover:to-yellow-800 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('metal')">🎸 Heavy Metal</button>

<!-- 
      <button class="country-btn bg-gradient-to-r from-red-600 to-yellow-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-red-700 hover:to-yellow-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('japan')">🇯🇵 Japan</button>
      <button class="country-btn bg-gradient-to-r from-gray-800 to-gray-500 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-gray-900 hover:to-gray-600 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('uk')">🇬🇧 UK</button>
      <button class="country-btn bg-gradient-to-r from-blue-800 to-red-600 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-blue-900 hover:to-red-700 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('usa')">🇺🇸 USA</button>
      <button class="country-btn bg-gradient-to-r from-gray-900 to-yellow-700 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-gray-900 hover:to-yellow-800 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('metal')">🎸 Heavy Metal</button>
      <button class="country-btn bg-gradient-to-r from-red-700 to-gray-900 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-red-800 hover:to-gray-900 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('wars')">⚔️ Wars</button>
      <button class="country-btn bg-gradient-to-r from-green-400 to-teal-600 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-green-500 hover:to-teal-700 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('science')">🔬 Science</button>
      <button class="country-btn bg-gradient-to-r from-yellow-600 to-red-600 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-yellow-700 hover:to-red-700 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('pandemics')">🦠 Pandemics</button>
  <button class="country-btn bg-gradient-to-r from-purple-700 to-pink-500 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-purple-800 hover:to-pink-600 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('revolutions')">✊ Revolutions</button>
  <button class="country-btn bg-gradient-to-r from-indigo-700 to-purple-900 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-indigo-800 hover:to-purple-800 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('universe')">🌌 Universe</button>
      <button class="country-btn bg-gradient-to-r from-yellow-400 to-red-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-yellow-500 hover:to-red-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('china')">🇨🇳 China</button>
      <button class="country-btn bg-gradient-to-r from-orange-700 to-green-500 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-orange-800 hover:to-green-600 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('india')">🇮🇳 India</button>
  <button class="country-btn bg-gradient-to-r from-gray-700 to-yellow-300 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-gray-800 hover:to-yellow-400 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('germany')">🇩🇪 Germany</button>
  <button class="country-btn bg-gradient-to-r from-yellow-600 to-orange-300 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-yellow-700 hover:to-orange-400 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('egypt')">🇪🇬 Egypt</button>
  <button onclick="loadCountry('egypt_myth')" class="bg-yellow-900 bg-gradient-to-r from-yellow-900 to-yellow-600 text-white px-2 py-1 rounded shadow hover:from-yellow-800 hover:to-yellow-500 mr-2 mb-2">🦅 Egypt Mythology</button>
  <button class="country-btn bg-gradient-to-r from-blue-400 to-indigo-700 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-blue-500 hover:to-indigo-800 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('greece')">🇬🇷 Greece</button>
  <button class="country-btn bg-gradient-to-r from-red-700 to-blue-700 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-red-800 hover:to-blue-800 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('russia')">🇷🇺 Russia</button>
  <button class="country-btn bg-gradient-to-r from-yellow-900 to-yellow-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-yellow-900 hover:to-yellow-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('bible')">📖 Bible/Mythology</button>
  <button class="country-btn bg-gradient-to-r from-green-900 to-green-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-green-900 hover:to-green-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('islam')">🕌 Islam Mythology</button> -->

    <!-- <button class="country-btn bg-gradient-to-r from-blue-900 to-blue-400 text-white px-8 py-4 rounded-xl shadow-lg hover:scale-105 hover:from-blue-800 hover:to-blue-500 transition-all text-xl font-bold flex items-center gap-2" onclick="loadCountry('judaism')">✡️ Judaism Mythology</button> -->
    </div>
    <div class="max-w-2xl mx-auto mb-6">
      <div class="flex gap-2 items-center justify-between mb-3">
        <input id="timeline-search" type="search" placeholder="Search titles, descriptions, tags..." class="w-full px-4 py-2 rounded-lg border border-gray-200 shadow-sm" />
      </div>
      <div class="flex justify-between items-center mb-4">
        <button id="toggle-tag-bar" class="px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600">Show Filters</button>
      </div>
      <div id="tag-bar" class="flex flex-wrap gap-2 mb-4 hidden"></div>
    </div>
    <div id="country-timeline"></div>
  </main>
  <footer class="text-center py-8 text-sm text-gray-500">
    Made with ❤️ using HTML, Tailwind, and JavaScript
  </footer>
  <script src="index.js"></script>
  <script>
    document.getElementById('toggle-tag-bar').addEventListener('click', () => {
      const tagBar = document.getElementById('tag-bar');
      const button = document.getElementById('toggle-tag-bar');
      if (tagBar.classList.contains('hidden')) {
        tagBar.classList.remove('hidden');
        button.textContent = 'Hide Filters';
      } else {
        tagBar.classList.add('hidden');
        button.textContent = 'Show Filters';
      }
    });

    const themeToggle = document.getElementById('theme-toggle');
    const html = document.documentElement;
    const body = document.body;
    
    // Check for saved theme preference or default to light mode
    const currentTheme = localStorage.getItem('theme') || 'light';
    if (currentTheme === 'dark') {
      body.classList.add('dark');
    }
    html.setAttribute('data-theme', currentTheme);
    
    // Update button visibility
    updateThemeButton();
    
    themeToggle.addEventListener('click', () => {
      const theme = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      
      // Toggle Tailwind dark class for compatibility
      body.classList.toggle('dark');
      
      updateThemeButton();
    });
    
    function updateThemeButton() {
      const isDark = html.getAttribute('data-theme') === 'dark';
      const sunIcon = themeToggle.querySelector('.sun-icon');
      const moonIcon = themeToggle.querySelector('.moon-icon');
      const lightText = themeToggle.querySelector('.light-text');
      const darkText = themeToggle.querySelector('.dark-text');
      
      if (isDark) {
        sunIcon.style.display = 'block';
        moonIcon.style.display = 'none';
        lightText.style.display = 'block';
        darkText.style.display = 'none';
      } else {
        sunIcon.style.display = 'none';
        moonIcon.style.display = 'block';
        lightText.style.display = 'none';
        darkText.style.display = 'block';
      }
    }
  </script>
</body>
</html>
